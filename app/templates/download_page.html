<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫£i Video TikTok - BinDX</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/download_page.css') }}">
</head>
<body>
    <header class="header">
        <div class="logo">BinD<span class="blue">X</span></div>
        <div class="language">Languages</div>
    </header>

    <section class="hero">
        <h1>T·∫£i Video TikTok</h1>
        <p>Kh√¥ng logo, h√¨nh m·ªù, watermark</p>
        <div class="input-group">
            <input id="input-url" type="text" placeholder="D√°n li√™n k·∫øt TikTok v√†o ƒë√¢y">
            <button class="paste-btn">üìã D√°n</button>
            <button id="download-btn" class="download-btn">‚¨á Download</button>
        </div>
    </section>

    <section class="content">
        <h2>T·∫£i ·ª©ng d·ª•ng SnapTik</h2>
        <p>Hi·ªán BinDX cung c·∫•p m·ªôt ·ª©ng d·ª•ng cho ph√©p t·∫£i video TikTok. N√≥ nhanh, d·ªÖ s·ª≠ d·ª•ng, kh√¥ng c√≥ h√¨nh m·ªù v√† ch·∫•t l∆∞·ª£ng HD.</p>
        <div class="app-buttons" hidden>
            <img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Google Play" class="store-btn">
            <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="App Store" class="store-btn">
        </div>

        <h3>Download video TikTok kh√¥ng b·ªã d√≠nh logo (watermark) mi·ªÖn ph√≠</h3>
        <p>BinDX.com cung c·ª• t·∫£i video TikTok online m√† kh√¥ng b·ªã d√≠nh logo m·ªù...</p>
    </section>

    <footer>
        <div class="footer-section">
            <h4>Company</h4>
            <p>Li√™n h·ªá</p>
        </div>
        <div class="footer-section">
            <h4>Legal</h4>
            <p>ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</p>
            <p>Ch√≠nh s√°ch b·∫£o m·∫≠t</p>
        </div>
        <div class="footer-section">
            <h4>Tools</h4>
            <p>Download video, photo TikTok</p>
        </div>
    </footer>
</body>
</html>
<script>
document.getElementById('download-btn').onclick = function() {
    const url = document.getElementById('input-url').value;
    fetch('/api/download', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({ tiktok_url: url })
    })
    .then(response => {
        if (!response.ok) throw new Error('L·ªói t·∫£i video');
        return response.blob();
    })
    .then(blob => {
        const downloadUrl = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = downloadUrl;
        a.download = 'tiktok_video.mp4';
        document.body.appendChild(a);
        a.click();
        a.remove();
        window.URL.revokeObjectURL(downloadUrl);
    })
    .catch(error => {
        console.error('Error:', error);
        alert('ƒê√£ x·∫£y ra l·ªói khi t·∫£i video.');
    });
};
</script>